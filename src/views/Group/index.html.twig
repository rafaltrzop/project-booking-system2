{% extends 'base.html.twig' %}
{% for group in groups %}
  {% form_theme forms[group.id] 'form/logged_in.html.twig' %}
{% endfor %}

{% block title %}{{ 'none.admin-head.title'|trans }} &mdash; {{ parent() }}{% endblock %}

{% block header %}
  {% include '_header_admin.twig' %}
{% endblock %}

{% block body %}
  <main class="body-content-container">
    <div class="column row">
      <h1>{{ 'group.list.h1'|trans }}</h1>
      <table class="scroll">
        <thead>
          <tr>
            <th>{{ 'group.list.group-name'|trans }}</th>
            <th colspan="2" class="text-center">{{ 'group.list.options'|trans }}</th>
          </tr>
        </thead>
        <tbody>
          {% for group in groups %}
            <tr>
              <td>{{ group.name }}</td>
              <td>
                <a href="{{ path('group_edit', {'id' : group.id}) }}" class="hollow button">{{ 'group.list.edit'|trans }}</a>
              </td>
              <td>
                {{ form_start(forms[group.id], {'attr': {'onsubmit': 'return confirm();'}, 'action': path('group_delete', {'id' : group.id})}) }}
                {% if group.used %}
                  {{ form_widget(forms[group.id].submit, {'disabled': 'disabled'}) }}
                {% else %}
                  {{ form_widget(forms[group.id]) }}
                {% endif %}
                {{ form_end(forms[group.id]) }}
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </main>
{% endblock %}
